# 锁事计划 App 业务需求文档

## 1. 项目概述

"锁事计划"是一款跨平台的智能待办事项管理应用，旨在帮助用户快速记录、整理和跟踪日常生活和工作中的各种事项。该应用通过AI技术，将用户随手记录的文本或语音内容自动转化为结构化的待办事项，并提供智能提醒功能。

### 1.1 技术栈
- 前端：React Native (支持iOS、Android和Web)
- 后端：C# WebAPI
- AI模型：本地Ollama或通义千问

## 2. 核心功能需求

### 2.1 快速输入系统
- **文本输入**：提供简洁的文本输入界面，允许用户快速记录想法
- **语音输入**：支持语音识别，将用户的口述内容转换为文本
- **智能识别**：实时显示识别状态，提示用户AI正在处理输入内容

### 2.2 AI内容处理
- **事项提取**：从非结构化文本中识别并提取待办事项
- **时间识别**：自动识别文本中的时间信息（如"明天下午1点半"、"下午4点"）
- **人物识别**：识别文本中提到的人名（如"跟AWS"、"跟John"）
- **事项分类**：自动将内容分类（工作、个人、会议、灵感等）
- **上下文理解**：理解复杂场景下的时间和任务关系（如区分多个时间点对应的不同任务）

### 2.3 待办事项管理
- **列表视图**：展示所有待办事项，支持按完成状态筛选
- **分类管理**：支持按类别查看和管理待办事项
- **时间线视图**：按时间顺序展示待办事项
- **今日提醒**：突出显示当天需要完成的事项
- **状态标记**：支持标记待办事项的完成状态

### 2.4 提醒系统
- **智能提醒**：根据识别的时间自动设置提醒
- **自定义提醒**：允许用户调整提醒时间
- **多渠道提醒**：支持应用内通知、系统通知、日历集成等提醒方式
- **重复提醒**：支持设置重复性任务的提醒

### 2.5 片段管理
- **最近片段**：展示最近记录的内容片段
- **片段整理**：将相关片段智能关联或合并
- **灵感收集**：专门存储创意和灵感类的内容
- **会议记录**：识别并整理会议相关的内容

## 3. 用户界面需求

### 3.1 主界面
- 顶部快速输入框，支持文本和语音输入
- 智能处理状态指示器
- 最近片段/待办事项展示区
- 今日提醒快速访问区
- 底部导航栏（首页、列表、分类、设置）

### 3.2 列表界面
- 待办事项完整列表
- 完成/未完成标签页切换
- 每个项目显示类别标签和时间信息
- 支持勾选完成操作

### 3.3 分类界面
- 预设分类列表（全部、工作、个人、会议、灵感等）
- 每个分类显示对应的待办事项数量
- 支持自定义新分类

### 3.4 设置界面
- 暗黑模式切换
- 通知设置
- AI模型选择（本地Ollama或通义千问）
- 账户管理
- 数据备份与同步设置

## 4. 非功能需求

### 4.1 性能需求
- 应用启动时间不超过3秒
- 语音识别响应时间不超过2秒
- AI内容处理时间不超过5秒
- 支持离线使用基本功能

### 4.2 安全需求
- 用户数据加密存储
- 支持生物识别（指纹/面部识别）解锁敏感内容
- 隐私保护机制，确保用户数据不被未授权访问

### 4.3 可用性需求
- 支持iOS、Android手机和平板设备
- 支持Windows、macOS和Linux桌面平台
- 提供响应式设计，适应不同屏幕尺寸
- 支持无障碍功能，方便视障用户使用

### 4.4 可扩展性需求
- 支持插件系统，允许第三方开发扩展功能
- 提供API接口，支持与其他应用集成
- 支持导入/导出数据，方便用户迁移

## 5. 用户场景示例

### 场景一：会议安排提醒
用户输入或语音记录："明天下午1点半跟AWS有个沟通，你看要不要一起参加"

系统处理：
- 识别出这是一个会议类型的待办事项
- 提取时间信息："明天下午1点半"
- 提取相关人物/组织："AWS"
- 自动设置提醒时间
- 分类为"会议"类别
- 在日历中创建对应事件

### 场景二：复杂工作安排
用户输入："要是查最近一包数据的话，下午4点查欧洲，下午6点查澳洲。我主要怕这个点是欧洲半夜，跟澳洲中午，家里负载不会很大，可能区分度不明显"

系统处理：
- 识别出两个相关但独立的待办事项
- 提取第一个任务："下午4点查欧洲数据"
- 提取第二个任务："下午6点查澳洲数据"
- 保存附加信息作为任务备注
- 分类为"工作"类别
- 为两个不同时间点分别设置提醒

### 场景三：灵感记录
用户语音输入："新产品名称定为NovaNote"

系统处理：
- 识别为灵感/创意类内容
- 不设置具体时间提醒
- 分类为"灵感"类别
- 保存在最近片段中，方便后续查看

## 6. 技术实现要点

### 6.1 前端实现
- 使用React Native开发跨平台应用
- 实现响应式UI设计，适配不同设备
- 优化语音输入体验，提供实时反馈
- 实现流畅的列表和动画效果

### 6.2 后端实现
- 使用C# WebAPI构建RESTful服务
- 设计高效的数据模型，支持复杂查询
- 实现用户认证和授权系统
- 提供数据同步和备份机制

### 6.3 AI模型集成
- 集成本地Ollama模型，支持离线处理
- 提供通义千问API集成，用于更复杂的理解任务
- 实现自定义训练机制，提高识别准确率
- 优化模型响应速度，提升用户体验

### 6.4 数据存储
- 本地SQLite数据库存储基本信息
- 云端数据库同步机制
- 高效的全文搜索实现
- 数据备份和恢复机制

## 7. 迭代计划

### 7.1 第一阶段（MVP）
- 基本文本和语音输入功能
- 简单的时间和任务识别
- 基础待办事项管理
- 简单提醒功能
- 支持移动端基本操作

### 7.2 第二阶段
- 增强AI识别能力
- 完善分类系统
- 添加更多视图选项
- 实现跨设备同步
- 优化用户界面体验

### 7.3 第三阶段
- 添加高级AI功能（上下文理解、意图分析）
- 实现与第三方服务集成（日历、邮件等）
- 添加协作功能，支持团队使用
- 提供数据分析和可视化功能
- 完善全平台支持

## 8. 风险评估

### 8.1 技术风险
- AI模型识别准确率不足
- 跨平台兼容性问题
- 性能瓶颈，特别是在低端设备上

### 8.2 用户体验风险
- 用户可能不适应AI自动整理的方式
- 语音识别在嘈杂环境中可能不准确
- 自动分类可能不符合用户预期

### 8.3 缓解措施
- 提供手动调整AI结果的选项
- 实施渐进式功能引导
- 收集用户反馈持续优化
- 提供详细的使用教程和帮助文档

### 9.0 GIT 仓库地址
