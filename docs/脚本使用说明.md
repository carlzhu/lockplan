# è„šæœ¬ä½¿ç”¨è¯´æ˜

## ğŸ“‹ å¯ç”¨è„šæœ¬åˆ—è¡¨

### ğŸ”¨ æ„å»ºç›¸å…³è„šæœ¬

#### 1. `frontend/rebuild-ios.sh` â­ æ¨è
**ç”¨é€”**: å®Œæ•´é‡æ–°ç”Ÿæˆ iOS åŸç”Ÿæ–‡ä»¶

**åŠŸèƒ½**:
- æ¸…é™¤æ—§çš„ iOS æ–‡ä»¶
- ç”Ÿæˆ iOS åŸç”Ÿé¡¹ç›®
- å®‰è£… CocoaPods ä¾èµ–
- ç”Ÿæˆ JavaScript Bundle (main.jsbundle)
- éªŒè¯æ‰€æœ‰æ–‡ä»¶

**ä½¿ç”¨**:
```bash
cd frontend
./rebuild-ios.sh
```

**ä½•æ—¶ä½¿ç”¨**:
- æ·»åŠ äº†æ–°çš„åŸç”Ÿæ¨¡å—
- ä¿®æ”¹äº† app.json é…ç½®
- iOS é¡¹ç›®å‡ºç°é—®é¢˜
- éœ€è¦ç”Ÿæˆç”Ÿäº§ç‰ˆæœ¬

---

#### 2. `frontend/rebuild-android.sh` â­ æ¨è
**ç”¨é€”**: å®Œæ•´é‡æ–°ç”Ÿæˆ Android åŸç”Ÿæ–‡ä»¶

**åŠŸèƒ½**:
- æ¸…é™¤æ—§çš„ Android æ–‡ä»¶
- ç”Ÿæˆ Android åŸç”Ÿé¡¹ç›®
- ç”Ÿæˆ JavaScript Bundle (index.android.bundle)
- éªŒè¯æ‰€æœ‰æ–‡ä»¶

**ä½¿ç”¨**:
```bash
cd frontend
./rebuild-android.sh
```

**ä½•æ—¶ä½¿ç”¨**:
- æ·»åŠ äº†æ–°çš„åŸç”Ÿæ¨¡å—
- ä¿®æ”¹äº† app.json é…ç½®
- Android é¡¹ç›®å‡ºç°é—®é¢˜
- éœ€è¦ç”Ÿæˆç”Ÿäº§ç‰ˆæœ¬

---

#### 2.5. `frontend/fix-ios-personal-account.sh` ğŸ”§ iOS ä¸ªäººè´¦å·ä¿®å¤
**ç”¨é€”**: ä¿®å¤ iOS ä¸ªäººå¼€å‘è€…è´¦å·çš„æ¨é€é€šçŸ¥é—®é¢˜

**åŠŸèƒ½**:
- ä» app.json ç§»é™¤ expo-notifications æ’ä»¶
- é‡æ–°ç”Ÿæˆ iOS åŸç”Ÿæ–‡ä»¶ï¼ˆä¸åŒ…å«æ¨é€é€šçŸ¥ï¼‰
- æ¸…ç† entitlements é…ç½®
- å®‰è£… CocoaPods ä¾èµ–

**ä½¿ç”¨**:
```bash
cd frontend
./fix-ios-personal-account.sh
```

**ä½•æ—¶ä½¿ç”¨**:
- ä½¿ç”¨ä¸ªäººå…è´¹ Apple å¼€å‘è€…è´¦å·
- é‡åˆ° "Personal development teams do not support Push Notifications" é”™è¯¯
- ä¸éœ€è¦è¿œç¨‹æ¨é€é€šçŸ¥åŠŸèƒ½

**è¯´æ˜**:
- âœ… æœ¬åœ°é€šçŸ¥åŠŸèƒ½ä»ç„¶å¯ç”¨
- âœ… ä»»åŠ¡æé†’ç­‰åŠŸèƒ½ä¸å—å½±å“
- âŒ è¿œç¨‹æ¨é€é€šçŸ¥éœ€è¦ä»˜è´¹è´¦å·
- è¯¦è§ [iOS ä¸ªäººå¼€å‘è€…è´¦å·è¯´æ˜](iOSä¸ªäººå¼€å‘è€…è´¦å·è¯´æ˜.md)

---

#### 3. `frontend/rebuild-all.sh` â­ æ¨è
**ç”¨é€”**: åŒæ—¶é‡æ–°ç”Ÿæˆ iOS å’Œ Android åŸç”Ÿæ–‡ä»¶

**åŠŸèƒ½**:
- å®Œæˆ iOS å’Œ Android çš„æ‰€æœ‰æ­¥éª¤
- ä¸€æ¬¡æ€§ç”Ÿæˆä¸¤ä¸ªå¹³å°

**ä½¿ç”¨**:
```bash
cd frontend
./rebuild-all.sh
```

**ä½•æ—¶ä½¿ç”¨**:
- éœ€è¦åŒæ—¶æ›´æ–°ä¸¤ä¸ªå¹³å°
- é¦–æ¬¡è®¾ç½®é¡¹ç›®
- å¤§ç‰ˆæœ¬æ›´æ–°

---

### ğŸš€ å¼€å‘ç›¸å…³è„šæœ¬

#### 4. `backend/run-dev.sh`
**ç”¨é€”**: å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨

**åŠŸèƒ½**:
- æ£€æŸ¥ .NET SDK
- æ¢å¤ä¾èµ–
- å¯åŠ¨ API æœåŠ¡å™¨

**ä½¿ç”¨**:
```bash
cd backend
./run-dev.sh
```

**æœåŠ¡åœ°å€**:
- HTTP: http://localhost:5000
- HTTPS: https://localhost:5001
- Swagger: http://localhost:5000/swagger

---

#### 5. `backend/test-api.sh`
**ç”¨é€”**: æµ‹è¯•åç«¯ API ç«¯ç‚¹

**åŠŸèƒ½**:
- æµ‹è¯•ç”¨æˆ·æ³¨å†Œ
- æµ‹è¯•ç”¨æˆ·ç™»å½•
- æµ‹è¯•ä»»åŠ¡ CRUD
- æµ‹è¯• Swagger æ–‡æ¡£

**ä½¿ç”¨**:
```bash
cd backend
./test-api.sh
```

**å‰ææ¡ä»¶**:
- åç«¯æœåŠ¡å¿…é¡»æ­£åœ¨è¿è¡Œ

---

#### 6. `start-dev.sh` (å¯é€‰)
**ç”¨é€”**: å¿«é€Ÿå¯åŠ¨å‰åç«¯å¼€å‘ç¯å¢ƒ

**åŠŸèƒ½**:
- åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯
- æ˜¾ç¤ºé…ç½®ä¿¡æ¯
- æ£€æµ‹æœåŠ¡çŠ¶æ€

**ä½¿ç”¨**:
```bash
./start-dev.sh
```

**æ³¨æ„**:
- æœåŠ¡åœ¨åå°è¿è¡Œ
- æ—¥å¿—ä¸ä¼šæ˜¾ç¤ºåœ¨ç»ˆç«¯
- å»ºè®®æ‰‹åŠ¨åˆ†åˆ«å¯åŠ¨å‰åç«¯ä»¥ä¾¿æŸ¥çœ‹æ—¥å¿—

---

### ğŸ“¦ éƒ¨ç½²ç›¸å…³è„šæœ¬

#### 7. `frontend/deploy.sh`
**ç”¨é€”**: EAS äº‘æ„å»ºå’Œéƒ¨ç½²

**åŠŸèƒ½**:
- ç™»å½• Expo
- é…ç½® EAS Build
- æ„å»ºå¼€å‘/é¢„è§ˆ/ç”Ÿäº§ç‰ˆæœ¬
- æäº¤åˆ°åº”ç”¨å•†åº—

**ä½¿ç”¨**:
```bash
cd frontend
./deploy.sh
```

**å‰ææ¡ä»¶**:
- å·²å®‰è£… EAS CLI: `npm install -g eas-cli`
- å·²æœ‰ Expo è´¦å·

**ä½•æ—¶ä½¿ç”¨**:
- éœ€è¦äº‘ç«¯æ„å»º
- éœ€è¦æäº¤åˆ°åº”ç”¨å•†åº—
- éœ€è¦åˆ†å‘æµ‹è¯•ç‰ˆæœ¬

---

## ğŸ¯ å¸¸è§ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: é¦–æ¬¡è®¾ç½®é¡¹ç›®
```bash
# 1. å®‰è£…ä¾èµ–
cd frontend
npm install

# 2. ç”ŸæˆåŸç”Ÿæ–‡ä»¶
./rebuild-all.sh

# 3. å¯åŠ¨åç«¯
cd ../backend
./run-dev.sh

# 4. åœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨å‰ç«¯
cd frontend
npx expo start
```

### åœºæ™¯ 2: æ·»åŠ äº†æ–°çš„åŸç”Ÿæ¨¡å—
```bash
# 1. å®‰è£…æ¨¡å—
cd frontend
npm install expo-camera

# 2. é‡æ–°ç”ŸæˆåŸç”Ÿæ–‡ä»¶
./rebuild-ios.sh  # æˆ– ./rebuild-android.sh
```

### åœºæ™¯ 3: ä¿®æ”¹äº† app.json é…ç½®
```bash
cd frontend
./rebuild-all.sh
```

### åœºæ™¯ 4: å‡†å¤‡å‘å¸ƒç‰ˆæœ¬
```bash
# 1. ç”ŸæˆåŸç”Ÿæ–‡ä»¶å’Œ Bundle
cd frontend
./rebuild-all.sh

# 2. iOS: åœ¨ Xcode ä¸­ Archive
open ios/AIVoiceNotes.xcworkspace

# 3. Android: æ„å»º APK
cd android
./gradlew assembleRelease
```

### åœºæ™¯ 5: æµ‹è¯•åç«¯ API
```bash
# 1. å¯åŠ¨åç«¯
cd backend
./run-dev.sh

# 2. åœ¨å¦ä¸€ä¸ªç»ˆç«¯æµ‹è¯•
cd backend
./test-api.sh
```

---

## ğŸ“Š è„šæœ¬å¯¹æ¯”

| è„šæœ¬ | ç”ŸæˆåŸç”Ÿæ–‡ä»¶ | ç”Ÿæˆ Bundle | å®‰è£…ä¾èµ– | éªŒè¯æ–‡ä»¶ | æ¨èåº¦ |
|------|------------|------------|---------|---------|--------|
| rebuild-ios.sh | âœ… | âœ… | âœ… | âœ… | â­â­â­â­â­ |
| rebuild-android.sh | âœ… | âœ… | âŒ | âœ… | â­â­â­â­â­ |
| rebuild-all.sh | âœ… | âœ… | âœ… | âœ… | â­â­â­â­â­ |
| run-dev.sh | âŒ | âŒ | âœ… | âŒ | â­â­â­â­ |
| test-api.sh | âŒ | âŒ | âŒ | âŒ | â­â­â­ |
| deploy.sh | âŒ | âŒ | âŒ | âŒ | â­â­â­ |
| start-dev.sh | âŒ | âŒ | âŒ | âŒ | â­â­ |

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ‰§è¡Œæƒé™
æ‰€æœ‰è„šæœ¬éƒ½éœ€è¦æ‰§è¡Œæƒé™ï¼š
```bash
chmod +x frontend/rebuild-ios.sh
chmod +x frontend/rebuild-android.sh
chmod +x frontend/rebuild-all.sh
chmod +x backend/run-dev.sh
chmod +x backend/test-api.sh
chmod +x frontend/deploy.sh
chmod +x start-dev.sh
```

### 2. å·¥ä½œç›®å½•
- `frontend/` ä¸‹çš„è„šæœ¬å¿…é¡»åœ¨ `frontend` ç›®å½•ä¸‹è¿è¡Œ
- `backend/` ä¸‹çš„è„šæœ¬å¿…é¡»åœ¨ `backend` ç›®å½•ä¸‹è¿è¡Œ
- æ ¹ç›®å½•çš„è„šæœ¬åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ

### 3. è„šæœ¬æ‰§è¡Œæ—¶é—´
- `rebuild-*.sh`: 5-10 åˆ†é’Ÿï¼ˆé¦–æ¬¡æ›´é•¿ï¼‰
- `run-dev.sh`: 10-30 ç§’
- `test-api.sh`: 10-20 ç§’
- `deploy.sh`: å–å†³äºç½‘ç»œå’Œæ„å»ºé…ç½®

### 4. ä¾èµ–è¦æ±‚
- **iOS**: éœ€è¦ macOSã€Xcodeã€CocoaPods
- **Android**: éœ€è¦ Android Studioã€Java JDK
- **åç«¯**: éœ€è¦ .NET 8 SDK
- **å‰ç«¯**: éœ€è¦ Node.jsã€npm

---

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜ 1: è„šæœ¬æ²¡æœ‰æ‰§è¡Œæƒé™
```bash
chmod +x <è„šæœ¬è·¯å¾„>
```

### é—®é¢˜ 2: è„šæœ¬æ‰§è¡Œå¤±è´¥
```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
bash -x <è„šæœ¬è·¯å¾„>
```

### é—®é¢˜ 3: CocoaPods å®‰è£…å¤±è´¥
```bash
cd frontend/ios
pod repo update
pod install
```

### é—®é¢˜ 4: Bundle ç”Ÿæˆå¤±è´¥
```bash
# æ¸…é™¤ç¼“å­˜åé‡è¯•
cd frontend
rm -rf node_modules/.cache
./rebuild-ios.sh
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç”ŸæˆåŸç”Ÿæ–‡ä»¶æ“ä½œæŒ‡å—](./ç”ŸæˆåŸç”Ÿæ–‡ä»¶æ“ä½œæŒ‡å—.md) - è¯¦ç»†çš„æ‰‹åŠ¨æ­¥éª¤
- `frontend/README-SCRIPTS.md` - å‰ç«¯è„šæœ¬å¿«é€Ÿå‚è€ƒ

---

**æœ€åæ›´æ–°**: 2026-01-21
